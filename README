Initial edit from MacOSX.



original project commit 1
